<div class="container-fluid mh-100 mw-100 p-3">
  <div class="d-flex flex-row p-3">
    <div class="d-flex flex-column p-3 bg-body-tertiary shadow w-25 mh-100">
      <p class="mb-3 mb-md-0 me-md-auto text-decoration-none">Filtros</p>
      <hr>
      <form [formGroup]="filtersForm" class="d-flex flex-column justify-content-center">
        <ul class="nav nav-pills flex-column alig mb-auto">
          <li class="nav-item">
            <a class="nav-link text-black">
              <i class="bi bi-building"></i> Categorias
              <select name="categoriesId" formControlName="categoriesId" class="form-select form-select-md">
                <option selected value="0">-</option>
                @for (category of categories; track $index) {
                <option value="{{ categories[$index].id }}">{{ categories[$index].name }}</option>
                }
              </select>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-black">
              <i class="bi bi-tags"></i> Tipos
              <select name="endowmentTypeId" formControlName="endowmentTypeId" class="form-select form-select-md">
                <option selected value="0">-</option>
                @for (endowmentType of endowmentTypes; track $index) {
                <option value="{{ endowmentTypes[$index].id }}">{{ endowmentTypes[$index].name }}</option>
                }
              </select>
            </a>
          </li>
        </ul>
      </form>
      <button class="btn btn-warning text-white align-self-center m-2 w-75" (click)="getFilters()">Aplicar Filtros</button>
      <hr>
      <div class="dropdown"> <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle"
          data-bs-toggle="dropdown" aria-expanded="false"> <img src="https://github.com/mdo.png" alt="mdo" width="32"
            height="32" class="rounded-circle"> </a>
        <ul class="dropdown-menu text-small">
          <li><a class="dropdown-item" href="#">New project...</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><a class="dropdown-item" href="#">Profile</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" href="#">Sign out</a></li>
        </ul>
      </div>
    </div>
    <div class="d-flex flex-wrap gap-3 p-3 w-75">
      @for (endowment of endowments; track $index) {
      <div class="d-flex align-content-start flex-wrap m-3 card-container pe-auto" 
        (click)="endowmentDetails(endowments[$index].id)">
        <div class="card m-3" style="width: 18rem;">
          <div class="card-img-box">
            <img [src]="'https://localhost:7094/Resources/' + endowments[$index].images[0].name">
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ endowments[$index].name }}
            </h5>
            <p class="card-text flex-grow-1">
              {{ endowments[$index].description }}
            </p>
            <a href="#" class="btn btn-warning text-white mt-auto"><i class="bi bi-cart-plus"></i> Agregar al carro</a>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>